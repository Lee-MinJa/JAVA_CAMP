<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
<mapper namespace="com.mybatis.mapper.PrBoardMapper"> 
 <select id="memberList" parameterType="map" resultType="map">
SELECT MEM_NUM, MEM_CODE, MEM_ID, 
        MEM_PW, MEM_NICK, MEM_NAME,
        MEM_EMAIL, MEM_BIZNUM, MEM_BIZNAME,
        MEM_TEL, MEM_JOIN FROM member
<if test="MEM_ID !=null and MEM_PW !=null">
WHERE MEM_ID = #{MEM_ID}
AND MEM_PW = #{MEM_PW}
</if>

 </select>
<select id = "PrBoardDetail" parameterType ="map" reeulstType="map">
SELECT p.promo_num,p.promo_region,p.promo_campsite,p.promo_detail_content,
p.promo_zzim, t.tag_name , i.image_filename

FROM promo_board p , (
    SELECT t.tag_name, g.promo_num
    FROM tag t , tagging g
    WHERE t.tag_code = g.tag_code    
)t , (SELECT m.image_filename , m.promo_num
FROM image m , image_clsfc c
WHERE m.image_clsfc_code = c.image_clsfc_code
AND c.image_clsfc_code=2)i
WHERE p.promo_num = t.promo_num
AND p.promo_num = i.promo_num

<if test="promo_num !=null">
AND p.promo_num = #{promo_num}
</if>




</select>



</mapper>
